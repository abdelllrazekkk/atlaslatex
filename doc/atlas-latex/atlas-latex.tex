%-------------------------------------------------------------------------------
% Guide to the use of the ATLAS LaTeX package
%-------------------------------------------------------------------------------
\documentclass[koma,UKenglish]{style/atlasdoc}

% Use biblatex and biber for the bibliography
\usepackage[biblatex]{style/atlaspackage}
\usepackage{authblk}
\usepackage{style/atlasphysics}

% Files with references in BibTeX format
\addbibresource{../atlas-latex.bib}

% Paths for figures
\graphicspath{{../../figures/},{figures/}}

% Shorthand for \phantom to use in tables
\newcommand{\pho}{\phantom{0}}
\newcommand{\BibTeX}{\textsc{Bib\TeX}}
\newcommand{\File}[1]{\texttt{#1}\xspace}
\newcommand{\Macro}[1]{\texttt{\textbackslash #1}\xspace}
\newcommand{\Option}[1]{\textsf{#1}\xspace}
\newcommand{\Package}[1]{\texttt{#1}\xspace}

%-------------------------------------------------------------------------------
% Generic document information
%-------------------------------------------------------------------------------

% Author and title for the PDF file
\hypersetup{pdftitle={ATLAS LaTeX guide},pdfauthor={Ian Brock}}

\title{Users guide to the ATLAS \LaTeX\ package}

\author{Ian C. Brock}
\affil{University of Bonn}

% \AtlasVersion{\ATPackageVersion}

\AtlasAbstract{%
  The usage of the ATLAS \LaTeX\ templates and style files is documented here.
  The options that are available are given, as well as the packages that can be loaded
  using these files.
  Information on the setups used to test the packages is given and
  some help with the conversion of the document to the \LaTeX\ format needed for journal submission
  is being added.

	This document was generated using version \ATPackageVersion\ of the ATLAS \LaTeX\ package.
}

%-------------------------------------------------------------------------------
% This is where the document really begins
%-------------------------------------------------------------------------------
\begin{document}

\tableofcontents
\clearpage

%-------------------------------------------------------------------------------
\section{Introduction}
\label{sec:intro}
%-------------------------------------------------------------------------------

This collection of ATLAS \LaTeX\ templates, style files and documentation
can be used for papers, preprints and notes. 
All necessary files are collected in a single package called \texttt{atlaslatex}.
The package is available from the web pages of the Publication Committee~\cite{pubcom} and from 
SVN~\cite{pubcom-svn}.

The collection replaces and hopefully improves on the previous packages. 
In particular it supersedes:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{atlasnote-00-04-05}
\item \texttt{atlascover-00-00-11}
\item \texttt{atlaspreprint-00-00-05}
\item \texttt{atlasbib-00-00-04}
\end{itemize}
Section~\ref{sec:oldnote} summarises the changes that have been made and
how you can adapt your documents to use the new package.
Section~\ref{sec:oldcover} summarises the changes to the cover macros.

The package includes the \texttt{atlasdoc} class, useful style files
and documentation of the package.
The documentation is provided as both PDF files and \LaTeX\ documents
that should provide examples of how to use the package and how to write
good \LaTeX.

The design principle is that you have a main document and 
the style files and \texttt{atlasdoc} class are in a subdirectory \texttt{style}.
This subdirectory can of course be a link to a centrally maintained \texttt{style} directory.
See Section~\ref{sec:texmf} for the changes that have to be made if you want to install
the package in a central place.

The usual procedure is that for each document that you create,
you first unpack the latest version of \texttt{atlaslatex} and
then create your main document in the top-level directory.
This structure means that it is easier to update the style files if a new version of
\texttt{atlaslatex} is released. 
Each document can then be independent of the \texttt{atlaslatex} release.

To create a new document you can issue the commands:
%
\begin{verbatim}
make new BASENAME=mydocument
\end{verbatim}
%
This command copies \texttt{atlas-document.tex}, 
{atlas-document-metadata.tex} and {atlas-document-contribute.tex}
to \texttt{mydocument.tex} and  \texttt{mydocument-metadata.tex}.
It also creates empty files \texttt{mydocument-defs.sty} and \texttt{mydocument.bib}.

In the \texttt{Makefile} you should change the \texttt{BASENAME} to the name of your document.
You can then compile your document with the command: \texttt{make}.

Note that you have to specify the language of your document as an option in the
\Macro{documentclass} command. Typical settings are
\begin{itemize}
\item UKenglish (or british)
\item USenglish (or american)
\end{itemize}


%-------------------------------------------------------------------------------
\section{Title, author and document numbers}
\label{sec:metadata}
%-------------------------------------------------------------------------------

An ATLAS document usually collects a series of labels over time.
These include the reference code of the analysis, e.g.\ \texttt{BPHY-2013-04}, 
the ATLAS note number and the CERN preprint number.
In addition the abstract and title are needed on the front page of the document and also on various cover pages.
The editors of the document, the editorial board members and the contributors to the analysis
also need to be specified at some point.

While all this information can be collected in the main file of he document, 
it is probably better to put it all in a separate document.
By default this file is called \texttt{mydocument-metadata.tex}.


%-------------------------------------------------------------------------------
\subsection{Authors and Contributors}
\label{sec:contribute}
%-------------------------------------------------------------------------------

The supporting documentation for an ATLAS note should contain a list of the contributors to the analysis.
A style file \Package{atlascontribute.sty} has been written to help with the creation of such a list.
The macros in the style file can also build the author list at the same time.
Two basic macros are used to add names to the author list and list of contributions:
\Macro{AtlasContributor} and \Macro{AtlasAuthorContributor}. 
The first macro adds a person to the list of contributors, while the second one also adds the person
to the author list.
Typical commands are:
\begin{verbatim}
\AtlasAuthorContributor{Joe Student}{a}{fake background estimate.}
\AtlasAuthorContributor{Jane Student}{b}{top background estimate.}
\AtlasAuthorContributor{John Postdoc}{a}{editor of internal note.}
\AtlasContributor{Jo Helper}{useful contributions in a few places.}
\affil[a]{University of Nowhere}
\affil[b]{University of Somewhere}
\end{verbatim}
If a person should be added to the author list, you also need to add an appropriate affiliation using the macro \Macro{affil}.
The optional argument is a letter or number that should also be given as the second argument to
\Macro{AtlasAuthorContributor}.

You can keep the list of authors and contributors separate
by using \Macro{author} for the authors and \Macro{AtlasContribute} for the contributors.
You print the list of contributors by giving the command \Macro{PrintAtlasContribute}.
The list should either be printed before the table of contents or after the conclusions
(i.e.\ where the Acknowledgements appear in a paper).

Note that \Package{authblk} assumes that you will also have affiliations for each author.
You can avoid them by using the syntax \verb|\author{[ ]{Author Name}}|.
Note that a space is needed in the optional argument.
This means that a space appears between the author name and the comma after it, which is not so nice.
Alternatively you can make the author list using the syntax:
\verb|\author{Joe Student \and Jane Student \and John Postdoc}| and avoid the use of the
\Package{authblk} package by giving the option \Option{noauthblk} to \Package{atlascontribute}.

If the list of contributors is very long, it may spread over more than one page.
The \Package{tabular} environment does not like this. Add the option \Option{supertabular} to use 
\Package{supertabular} instead.


%-------------------------------------------------------------------------------
\subsection{Metadata commands}
%-------------------------------------------------------------------------------

The standard list of metadata commands are given below.
More are available for the draft cover page when a paper, CONF note or PUB note draft
is circulated to the collaboration.
See \texttt{template/atlas-document-metadata.tex} for more details.

\begin{itemize}
  \item {\verb|\title{<Title>}|} typesets the paper title. If not
    given, a dummy title will be produced.

  \item {\verb|\author{<Author>}|} typesets the paper author. If not
    explicitly given, \emph{The ATLAS Collaborations} will be used by
    default. Note that the \verb|\author{}| command is pretty limited
    in case you want to display multiple author names and multiple
    affiliations. For this use case the \verb|authblk.sty| package is
    provided; this is a typical example of its use:
    \begin{verbatim}
\usepackage{authblk}
\renewcommand\Authands{, } % avoid ``. and'' for last author
\renewcommand\Affilfont{\itshape\small} % affiliation formatting

\author[a]{First Author}
\author[a]{Second Author}
\author[b]{Third Author}

\affil[a]{One Institution}
\affil[b]{Another Institution}
    \end{verbatim}
    See also Section~\ref{sec:contribute} if you want to combine the creation of a list of authors and contributors.

  \item {\verb|\AtlasAbstract{<The abstract text>}|} typesets the
    abstract on the front page and cover page.

  \item {\verb|\date{<Date>}|} typesets the paper date. If not
    explicitly given, the current date (\verb|\today|) will be used.

  \item {\verb|\AtlasVersion{<Draft Version>}|} displays the draft
    version on the front page, a DRAFT banner on all the other page
    headings, and adds line numbers to all text to easy commenting and
    reviewing. Can be omitted.

  \item {\verb|\AtlasJournal{<Journal Name>}|} displays the phrase \emph{to
    be submitted to Journal Name} at the bottom of the front page and
    on the cover page. Can be omitted.

  \item {\verb|\AtlasRefCode{<Reference code>}|} displays the ATLAS
    standard reference code, e.g.\ \texttt{BPHY-2014-03}, on the front page and
    the cover page. Not shown on the front page if the note number is given.

  \item {\verb|\AtlasNote{<Note number>}|} displays the note number
  	for a CONF, PUB, INT or COM note, e.g.\ \texttt{ATLAS-CONF-2014-23},
  	on the front page and cover page.
  	If the note number is given, the reference code is not shown.

  \item {\verb|\PreprintIdNumber{<Preprint number>}|} displays the CERN
  	preprint number on the front page.

  \item {\verb|\skipbeforetitle{<length>}|} sets the distance between
    the title page header and the note title. The default value should
    be fine for most notes, but in case you have a long list of
    authors or a lengthy abstract you can use this command to buy
    some extra space. Note that \verb|<length>| can also be negative
    (use it at your own risk!).
\end{itemize}
%
\texttt{template/atlas-document.tex} contains a basic skeleton that can be
used to start typing a new note using the \texttt{atlasdoc} class. Many of
the custom commands described above are used in this example file, in
order to demonstrate their use.


%-------------------------------------------------------------------------------
\section{The \texttt{atlasdoc} class}
\label{app:atlasdoc}
%-------------------------------------------------------------------------------

This document has been typeset using the \texttt{atlasdoc.cls} class.

The \texttt{atlasdoc} class can use either the standard \LaTeX\ \texttt{article} class
as its basis or the \KOMAScript \texttt{sctartcl} class.
All the usual commands and options you usually use
with \texttt{article}  or \texttt{scrartcl} should work with it. 
You turn on the use of \KOMAScript with the option \texttt{koma}.
For instance, this document has
been produced using this very simple preamble:
%
\begin{verbatim}
  \documentclass[koma,UKenglish]{style/atlasdoc}
  \usepackage{style/atlaspackage}
  \usepackage{style/atlasphysics}
  \graphicspath{{../},{figures/}}
\end{verbatim}
%
Note that the document language must be specified, otherwise \texttt{babel} will complain.

The \LaTeX\ packages that are used in the document are mostly specified in 
\texttt{style/atlaspackage.sty}.

The style file \texttt{style/atlasphysics.sty} defines a lot of useful
macros for particles and more. See the separate document
\texttt{atlas-physics.pdf}~\cite{atlas-physics} for details.

If you want to use \Macro{biblatex} you need to add the option \texttt{biblatex} when you
include \texttt{atlaspackage}.
Have a look at the \texttt{style/atlaspackage.sty} to see how \texttt{biblatex} is included.
In your main document you use \Macro{addbibresource} in the preamble to include your \texttt{.bib} files.

As mentioned above, you have to specify the document language as an option to \Package{atlasdoc}.
Several more options can be set:
\begin{description}
\item[a4paper] Set paper size to A4 (default);
\item[letter] Set paper size to letter;
\item[coverpage] Include an ATLAS draft cover page;
\item[preprint] Make the front page for a CERN preprint;
%\item[paper] The document is an ATLAS paper;
\item[CONF] The document is a CONF note;
\item[PUB] The document is an PUB note;
\item[nomaketitle] Do not create a title page; to make it yourself give the command \Macro{maketitle} after
	\verb|\begin{document}|
\item[koma] Use the \KOMAScript\ base class \Package{scrartcl} instead of \Package{article}. 
	Note that some tuning of the \KOMAScript\ options still needs to be done.
\end{description}
Note that the options \Option{CONF} and \Option{PUB} get passed to \Package{atlascover.sty}
as they only influence the cover pages.

%-------------------------------------------------------------------------------
\subsection{Dependencies}
%-------------------------------------------------------------------------------

The \texttt{atlasdoc} class depends on these packages, whose presence in
your system is required:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{color}: Add colours to \LaTeX
\item \texttt{babel}: Become language aware
\item \texttt{graphicx}: Include graphics in the document
\item \texttt{lineno}: Add line numbers to documents
\item \texttt{txfonts}: The standard ATLAS document font
\end{itemize}
These should be installed in any modern \LaTeX{} installation.

\texttt{atlascover} also needs \texttt{hyperref}. 
Have a look at \texttt{templates/atlas-draft-cover.tex} to see how to include it by hand.
You can also simply use \texttt{atlaspackage.sty}

The style file \texttt{atlaspackage.sty} includes further packages.
You can steer how many by using the option \texttt{minimal}, \texttt{default} or \texttt{full}.
The minimal set is:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{amsmath}: Extra useful maths environments
\item \texttt{inputenc}: Allow ä, ö, ø, ß, etc. to be input directly
\item \texttt{fontenc}: Output font encoding
\item \texttt{hyperref}: Add hyperlinks and ability to click on cross-references
\item \Package{savesym}: Needed to avoid errors, as \Package{txfonts}and \Package{amsmath} define the same symbols
\end{itemize}

The default set adds in addition:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{booktabs}:
\item \texttt{footmisc}: Extra footnote options
\item \texttt{mhchem}: Chemical elements and molecules
\item \texttt{siunitx}: Units package with extra functionality for tables
\item \texttt{subfig}: More than one plot in a figure
\item \texttt{tocloft}: Extra options for typesetting table of contents etc.
\end{itemize}

Finally the full set includes further packages that may be useful:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{csquotes}
\item \texttt{longtable}
\item \texttt{rotating}
\item \texttt{xfrac}
\end{itemize}

\texttt{lineno.sty} and \texttt{authblk.sty} are also provided in \texttt{style/other}.
They should be part of a standard \LaTeX\ installation though.

There used to be a problem using the \texttt{tikz} package with \texttt{atlasnote}.
With \texttt{atlasdoc} this problem seems to have gone away.
\texttt{tikz} is not included in \texttt{atlaspackage}.
If you want to use it, just add the usual \verb|\usepackage{tikz| to your preamble.


%-------------------------------------------------------------------------------
\subsection{Cover pages}
\label{sec:cover}
%-------------------------------------------------------------------------------

The package also provides cover pages for the circulations of ATLAS drafts and 
for the CERN preprint version of an ATLAS paper. The style can be found in \texttt{style/atlascover.sty}.

If you wish to use the \texttt{atlascover} package with the 
\texttt{atlasdoc} class, you should usually use the \texttt{coverpage} option of the class:
\begin{verbatim}
  \documentclass[coverpage,UKenglish]{style/atlasdoc}
\end{verbatim}
instead of the the usual \texttt{usepackage} command: this will ensure
that the cover page is produced before the note title page.

You can include \texttt{atlascover} with \Macro{usepackage} if you prefer.
In this case you need the option \texttt{nomaketitle} in the \texttt{atlasdoc} class
(if you are using it)
and you include the \Macro{maketitle} command after \verb|\begin{document}|.

The following options can be passed on to the \Package{atlascover} package:
\begin{description}
\item[PAPER] The document is an ATLAS paper draft (default);
\item[CONF] The document is a CONF note;
\item[PUB] The document is an PUB note;
\item[preprint] The front page should be in the form of a CERN preprint.
\end{description}

%-------------------------------------------------------------------------------
\subsection{ATLAS notes}
\label{sec:note}
%-------------------------------------------------------------------------------

If you include the macro \Macro{AtlasNote} in your preamble,
the note number will be printed under ``ATLASNOTE'' at the top of your document.
This can be used for any sort of ATLAS note, including CONF, PUB and INT notes.


%-------------------------------------------------------------------------------
\section{Symbols in \texttt{atlasphysics.sty}}
\label{sec:atlasphysics}
%-------------------------------------------------------------------------------

Many useful symbols are defined in \texttt{atlasphysics.sty}.
While this used to be a very long file, it has now been split into several smaller files,
which can be included or not using options.


%-------------------------------------------------------------------------------
\section{Platforms and \LaTeX\ Versions}
\label{sec:version}
%-------------------------------------------------------------------------------

The \texttt{atlasdoc} class works both with \LaTeX{} and PDF\LaTeX{}.
I recommend to use PDF\LaTeX\ and this is now the default.

I would expect everything to work with TeXLive 2012 or later.
Before that some option names for \texttt{siunitx} were different, and \texttt{biblatex} and \texttt{biber}
were not really stable.

The package should work under Linux, MacOSX and Windows.
The following sections give some details on the installations that I use for testing things.

%-------------------------------------------------------------------------------
\subsection{Ubuntu 14.04}

I test things using Xubuntu 14.04.
I start with the standard TeX Live installation (package \texttt{texlive}).
The following extra packages had to be installed:
\begin{itemize}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}
\item \texttt{texlive-latex-extra} (footmisc),
\item \texttt{texlive-humanities} (lineno),
\item \texttt{texlive-science} (siunitx),
\item \texttt{texlive-bibtex-extra} and \texttt{biber} (biblatex and biber).
\end{itemize}

%-------------------------------------------------------------------------------
\subsection{lxplus} 

It works out of the box, if you modify your \texttt{PATH} to use a recent version of TeX Live.
Set your \texttt{PATH} as follows:
\begin{verbatim}
		export PATH=/afs/cern.ch/sw/XML/texlive/latest/bin/x86_64-linux:$PATH
\end{verbatim}

%-------------------------------------------------------------------------------
\subsection{CentOS 7} 

CentOS is an RPM-based distribution that is supposed to form the basis of future
release of Scientific Linux.

I started with a fairly basic setup that included tools for development.
I then installeed the \enquote{Technical Writing} collection.
In addition I needed \Package{texlive-booktabs} (booktabs), \Package{texlive-tocloft} (tocloft).
However, I still got complaints about \File{lineno.sty} and \File{siunitx.sty}.
I was not able to find these in the standard RPM repositories.
You can either get and install them from CTAN (\File{lineno.sty} is also available in \File{style/other}),
or install your own \TeX\ Live distribution.


%-------------------------------------------------------------------------------
\subsection{Windows 7}

MikTeX 2.9 (\url{http://miktex.org}) and TeXstudio 2.8.2 (\url{http://texstudio.sourceforge.net}).
MikTeX has the advantage that it installs missing packages, provided you activated that option.
However, I had to install \Package{babel-english} before I could compile any of the documents.

If you want to compile the documentation under Windows you have to do some gymnastics,
because I use links to find the style files.
Windows~7 support symbolic links, but you have to create them.
Hence the first step if to remove any \texttt{style} directory links.
These can be found in the directories: 
\File{doc/atlas-bibtex}, \File{doc/atlas-latex}, \File{doc/atlas-paper}, \File{doc/atlas-physics}.
To create the link you use the \Package{mklink} command.
You run this in a \Package{cmd} window, which you start as an Administrator.
Here is what I did in the directory \File{doc/atlas-bibtex}:
\begin{verbatim}
mklink /D \
  "C:\Users\brock\Documents\atlas\latex\atlaslatex\doc\atlas-bibtex\style" \
  "C:\Users\brock\Documents\atlas\latex\atlaslatex\style"
\end{verbatim}
This information I found under
\url{http://www.howtogeek.com/howto/16226/complete-guide-to-symbolic-links-symlinks-on-windows-or-linux/}


%-------------------------------------------------------------------------------
\subsection{MacOSX 10.9}

I do all my development with MacOSX.
Hence I would not expect any problems here, provided again you have a fairly recent
installation of Mac\TeX.
I use	MacTeX (which I download from \url{http://www.tug.org/mactex}) and TeXstudio 2.8.2.


%-------------------------------------------------------------------------------
\section{Installation of \Package{atlaslatex} in \File{texmf} tree}
%-------------------------------------------------------------------------------
\label{sec:texmf}

As mentioned in the introduction, the \texttt{atlasdoc} class and the style files can all be found in the 
\File{style} subdirectory. The template documents are set up to pick up the style files from there.

If you want to install the package in a central area do the following:
\begin{itemize}
\item Unpack the tarball;
\item Copy the style directory to \File{\$\{HOME\}/texmf/tex/latex/atlaslatex};
\item Copy the contents of the \File{bibtex/bst} and \File{bibtex/bib} directories 
	to \texttt{\$\{HOME\}/texmf/bibtex/bst} and \texttt{\$\{HOME\}/texmf/bibtex/bst}, respectively.
\end{itemize}
You can also checkout the two directory trees from SVN:
\begin{verbatim}
cd ~/texmf/tex/latex
svn co svn+ssh://svn.cern.ch/reps/atlasgroups/pubcom/latex/atlaslatex/trunk/style atlaslatex
cd ~/texmf
svn co svn+ssh://svn.cern.ch/reps/atlasgroups/pubcom/latex/atlaslatex/trunk/bibtex
\end{verbatim}
The advantage of using SVN is that you can keep the package up to date, by just giving the command
\verb|svn update|in the two directories.
If you already have a \File{bibtex} directory, 
first move it out of the way, then checkout from SVN
and then move the contents of the old directory back into the \File{bibtex} tree.

In the template files, you have to change
\begin{center}
	\begin{tabular}{ll}
		From & To \\
		\midrule
		\verb|\documentclass{style/atlasdoc}|    & \verb|\documentclass{atlasdoc}| \\
		\verb|\usepackage{style/atlaspackage}|   & \verb|\usepackage{atlaspackage}| \\
		\verb|\usepackage{style/atlasphysics}|   & \verb|\usepackage{atlasphysics}| \\
		\verb|\usepackage{style/atlasconribute}| & \verb|\usepackage{atlascontribute}|
	\end{tabular}
\end{center}

If you are using \BibTeX\ you also have to change\\
\verb|\bibliographystyle{bibtex/bst/atlasBibStyleWoTitle}| to\\
\verb|\bibliographystyle{atlasBibStyleWoTitle}|

%-------------------------------------------------------------------------------
\section{Journal templates}
%-------------------------------------------------------------------------------
\label{sec:journal}

This section collects information on where the \LaTeX\ templates for the different journals can be found:
\begin{description}
\item[Elsevier] Elsevier uses the \texttt{elsarticle} class which should be already installed if you have a standard 
	TeX Live distribution. 
	It can also be found at \url{http://www.elsevier.com/locate/latex}.
\item[APS] APS journals use REV\TeX. This is also usually installed.
	It can also be found at \url{http://} 
\end{description}

As you can ee this is \enquote{Work in Progress!} More information will be added once more journal templates are tested.


%-------------------------------------------------------------------------------
\section{Miscellaneous \LaTeX{} tips}
%-------------------------------------------------------------------------------
\label{sec:latex}

%-------------------------------------------------------------------------------
\subsection{Graphics}

Use the \Package{graphicx} package to include your plots and figures. 
The use of older packages like \Package{espfig} is deprecated.
Since the \Package{graphicx} package is required by the \texttt{atlasdoc}
class, it is automatically loaded when using it, and there is no need
to explicitly included it in the document preamble.

Always include your graphics file without giving the file extension.
For instance, if you want to include the \File{figure.eps}
file, you should use a syntax like this:
\begin{verbatim}
  \includegraphics[width=\textwidth]{figure}
\end{verbatim}
This will allow you to compile your document using either \LaTeX{} or
pdf\LaTeX{} without changing your source file: you can in fact have
both \File{figure.eps} and \File{figure.pdf} in your working directory,
and the proper one will be picked up according to the processing method
you choose.

It is a good habit to keep your graphics files in a separate
sub-directory (e.g.\ in \File{figures/}. 
In this case you can include them by mentioning it explicitly every time:
\begin{verbatim}
  \includegraphics[width=\textwidth]{figures/figure}
\end{verbatim}
or by telling the \texttt{graphicx} package where to look
for them, by using this command:
\begin{verbatim}
  \graphicspath{{figures/}}
\end{verbatim}


%-------------------------------------------------------------------------------
\subsection{Definitions}

You can use \verb|\ensuremath| in definitions, so that they will work
in both text mode and math mode, e.g.\
\verb|\newcommand{\UoneS}{\ensuremath{\Upsilon(\mathrm{1S})}\xspace}| to get
\UoneS{} in either mode (\verb|\UoneS{}| or \verb|$\UoneS$|).

I highly recommend that you also terminate every definition with \Macro{xspace},
as then you can use the definitions without having to terminate them with
``\verb|\|'' or ``\verb|{}|''.



%-------------------------------------------------------------------------------
\section{Remarks on units and symbols}

As discussed in the ATLAS Paper Template~\cite{atlas-paper},
it is highly recommended to use a units package to format your units properly.
The package \Package{siunitx} works very well and is the package of choice.
Alternatives include \Package{units} and \Package{hepunits},
which is based on \Package{SIunits}.

The basic command to use in \Package{siunitx} is \verb|\SI{20}{\GeV}| to get
\SI{20}{\GeV}. 
There are also several other useful commands for specifying ranges:
\verb|\numrange| for a range of numbers and \verb|SIrange| for a range of numbers with a unit. 
Options exist for specifying how they are formatted.
The options can be set for an individual command or for the whole document.
For example, in this document I have specified the options:
\verb|\sisetup{separate-uncertainty, range-units = repeat, detect-family = true}|.
and
\verb|\sisetup{group-digits=integer, group-minimum-digits=4}|.

In addition several extra units are defined:
\begin{itemize}
\item \verb|\micron| for \si{\micron};
\item \verb|\mrad| for \si{\mrad};
\item \verb|\nb| for \si{\nb};
\item \verb|\pb| for \si{\pb};
\item \verb|\fb| for \si{\fb}.
\end{itemize}
Use the syntax \verb|\SI{20.3}{\per\fb}| to get \SI{20.3}{\per\fb}.

Some things to note about using \Package{siunitx}:
\begin{itemize}
\item It tries to isolate itself from other packages.
	If you just want to write \si{\GeV} in your text,
	then you must write \verb|\si{\GeV}|.
\item It also contains two new column specifiers for tables ``S'' and ``s'',
	which are extremely useful for formatting tables properly.
\end{itemize}

%-------------------------------------------------------------------------------
\subsection{\pT or \ET\ -- that is the question}
%-------------------------------------------------------------------------------

Bold math should be automatically invoked in titles.
This short section tests whether that works properly.
It is of course good if things like \pT and \ET are automatically in bold face in
a header and normal font in the text (and table of contents).

With the current setup, this works OK. 
However, if you use the \Option{koma}, which then typesets titles using a sans serif font,
the $p$ and $E$ are typeset with a serif font and \textsf{T} is typeset with a sans serif font,
which is probably not what one wants.!


%-------------------------------------------------------------------------------
\section{From \texttt{atlasnote} to \texttt{atlasdoc}}
\label{sec:oldnote}
%-------------------------------------------------------------------------------

The \texttt{atlasdoc} class replaces and supersedes \texttt{atlasnote}.
The decision was taken to give the class a new name, as it is supposed to be
able to be used for (almost) all ATLAS documents.
Some small changes in the user setup are necessary to use the new
class, style files and templates.

All style files are collected in the \texttt{style} subdirectory.
It is assumed that this directory is a direct subdirectory of you main \LaTeX\ file.
If you want to keep the style files in a central place you can either put them in
\verb|${HOME}/texmf/tex/latex| or create a link from your main directory to the location of
your \texttt{style} directory.

The main changes the user has to make are:
\begin{itemize}
\item Change the class name from \texttt{atlasnote} to \texttt{style/atlasdoc};
\item Specify the document language as an option: UKenglish or USenglish;
\item Add \verb|\usepackage{style/atlaspackage}| at the beginning of the document;
\item Change \verb|\usepackage{atlasphysics}| to \verb|\usepackage{style/atlasphysics}|; 
%\item Use the macro \Macro{AtlasTitle} instead of \Macro{title}.
\end{itemize}

The language specification means that dates etc.\ are also formatted according to 
the document language. 
If you use the package \Macro{csquotes}, quotation symbols are also consistently and properly set
when you use \Macro{enquote}.

All the documentation now uses \texttt{biblatex} and \texttt{biber} instead of \BibTeX.
The templates provide information on how to make the change in your own document.

As of \texttt{atlascover-01-00-00} the same macro names are used in both \texttt{atlasdoc} and
\texttt{atlascover} so that title, journal, version number and abstract only need to be specified once.
This means that if you start from an old preamble the following changes should be made:
\begin{center}
	\begin{tabular}{ll}
		Old	& New\\
		\midrule
		%\Macro{title} & \Macro{AtlasTitle}\\
		\Macro{draftversion} & \Macro{AtlasVersion}\\
		\Macro{atlasnote} & \Macro{AtlasNote}\\
		\Macro{journal} & \Macro{AtlasJournal}\\
		\Macro{abstracttext} & \Macro{AtlasAbstract}
	\end{tabular}
\end{center}
If you use the old macro names 
\Macro{draftversion}, \Macro{journal}, \Macro{abstracttext},
they will continue to work in the document itself, but not on the cover page.

The class and style files have been cleaned up and things 
that were thought to no longer be necessary have been removed.
These pieces have been collected in \texttt{style/atlasnote-obsolete.sty} in case they are needed.
If something important has got lost, please let me know.

The \texttt{subfigure} package has been replaced with \texttt{subfig}, as \texttt{subfigure} is now deprecated.
If you use \texttt{subfig}, then you have to use \Macro{subfloat} instead of \Macro{subfigure}.

%-------------------------------------------------------------------------------
\section{Changes in \texttt{atlascover-01-00-00}}
\label{sec:oldcover}
%-------------------------------------------------------------------------------

As of \texttt{atlascover-01-00-00} the same macro names are used in both \texttt{atlasdoc} and
\texttt{atlascover} so that title, journal and version number only need to be specified once.
This means that if you start from an old cover page the following changes have to be made:
\begin{center}
	\begin{tabular}{ll}
		Old                            & New                   \\
		\midrule
		\Macro{AtlasCoverPaperTitle}   & \Macro{title}    \\
		\Macro{AtlasCoverNumber}       & \Macro{AtlasRefCode}  \\
		\Macro{AtlasCoverPaperVersion} & \Macro{AtlasVersion}  \\
		\Macro{AtlasCoverJournal}      & \Macro{AtlasJournal}  \\
		\Macro{AtlasCoverAbstract}     & \Macro{AtlasAbstract}
	\end{tabular}
\end{center}

Note that \texttt{atlaspreprint} is integrated into \texttt{atlascover} and not maintained as a separate style file.
To get the CERN preprint front page, you have to include the option \Option{preprint} when you invoke \Package{atlasdoc}.
If you start from an old preprint front page the following changes have to be made:
\begin{center}
	\begin{tabular}{ll}
		Old                              & New                   \\
		\midrule
		\Macro{PreprintCoverPaperTitle} & \Macro{title}    \\
		\Macro{PreprintJournalName}     & \Macro{AtlasJournal}  \\
		\Macro{PreprintCoverAbstract}   & \Macro{AtlasAbstract}
	\end{tabular}
\end{center}
The following changes are needed for the macros:
\begin{itemize}
\item The macro \Macro{AtlasCoverEdBoardMember} only has one argument, as a generic email list now exists for every EdBoard.
\end{itemize}


%-------------------------------------------------------------------------------
\section*{History}
%-------------------------------------------------------------------------------

Quite a lot of people have contributed to the ATLAS \LaTeX\ templates over time.
Marco Delmastro set them up in the first place and added a number of improvements over time.
Mike Vetterli implemented several changes to the cover pages, including switching to two pages.
Cristina Oropeza, Vasia Mitsou, Chris Hays and Mike Vetterli all made contributions to the preprint cover page.

Sven Menke provided the code so that bold math works in titles correctly.

\end{document}
